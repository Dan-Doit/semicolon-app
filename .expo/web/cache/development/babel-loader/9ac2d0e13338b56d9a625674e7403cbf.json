{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\EMBEDED\\\\Final_Project\\\\semicolon_app\\\\AuthContext.js\";\n\nimport React, { createContext, useContext, useState } from \"react\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children,\n      userLoggedIn = _ref.isLoggedIn;\n\n  var _useState = useState(userLoggedIn),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoggedIn = _useState2[0],\n      setIsLoggedIn = _useState2[1];\n\n  var logUserIn = function logUserIn(token) {\n    return _regeneratorRuntime.async(function logUserIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(token);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"isLoggedIn\", \"true\"));\n\n          case 4:\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"jwt\", token));\n\n          case 6:\n            setIsLoggedIn(true);\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 9]], Promise);\n  };\n\n  var logUserOut = function logUserOut() {\n    return _regeneratorRuntime.async(function logUserOut$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"isLoggedIn\", \"false\"));\n\n          case 3:\n            setIsLoggedIn(false);\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  return React.createElement(AuthContext.Provider, {\n    value: {\n      isLoggedIn: isLoggedIn,\n      logUserIn: logUserIn,\n      logUserOut: logUserOut\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, children);\n};\nexport var useIsLoggedIn = function useIsLoggedIn() {\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn;\n\n  return isLoggedIn;\n};\nexport var useLogIn = function useLogIn() {\n  var _useContext2 = useContext(AuthContext),\n      logUserIn = _useContext2.logUserIn;\n\n  return logUserIn;\n};\nexport var useLogOut = function useLogOut() {\n  var _useContext3 = useContext(AuthContext),\n      logUserOut = _useContext3.logUserOut;\n\n  return logUserOut;\n};","map":{"version":3,"sources":["D:/EMBEDED/Final_Project/semicolon_app/AuthContext.js"],"names":["React","createContext","useContext","useState","AsyncStorage","AuthContext","AuthProvider","children","userLoggedIn","isLoggedIn","setIsLoggedIn","logUserIn","token","console","log","setItem","logUserOut","useIsLoggedIn","useLogIn","useLogOut"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,QAA2D,OAA3D;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AAEA,OAAO,IAAMC,WAAW,GAAGJ,aAAa,EAAjC;AAEP,OAAO,IAAMK,YAAY,GAAG,SAAfA,YAAe,OAA4C;AAAA,MAAzCC,QAAyC,QAAzCA,QAAyC;AAAA,MAAnBC,YAAmB,QAA/BC,UAA+B;;AAAA,kBAChCN,QAAQ,CAACK,YAAD,CADwB;AAAA;AAAA,MAC7DC,UAD6D;AAAA,MACjDC,aADiD;;AAGpE,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AADc;AAAA;AAAA,6CAGJR,YAAY,CAACW,OAAb,CAAqB,YAArB,EAAmC,MAAnC,CAHI;;AAAA;AAAA;AAAA,6CAIJX,YAAY,CAACW,OAAb,CAAqB,KAArB,EAA4BH,KAA5B,CAJI;;AAAA;AAKVF,YAAAA,aAAa,CAAC,IAAD,CAAb;AALU;AAAA;;AAAA;AAAA;AAAA;AAOVG,YAAAA,OAAO,CAACC,GAAR;;AAPU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAWA,MAAME,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAELZ,YAAY,CAACW,OAAb,CAAqB,YAArB,EAAmC,OAAnC,CAFK;;AAAA;AAGXL,YAAAA,aAAa,CAAC,KAAD,CAAb;AAHW;AAAA;;AAAA;AAAA;AAAA;AAKXG,YAAAA,OAAO,CAACC,GAAR;;AALW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAQA,SACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEL,MAAAA,UAAU,EAAVA,UAAF;AAAcE,MAAAA,SAAS,EAATA,SAAd;AAAyBK,MAAAA,UAAU,EAAVA;AAAzB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKT,QADL,CADJ;AAIH,CA1BM;AA4BP,OAAO,IAAMU,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA,oBACRf,UAAU,CAACG,WAAD,CADF;AAAA,MACvBI,UADuB,eACvBA,UADuB;;AAG/B,SAAOA,UAAP;AACH,CAJM;AAKP,OAAO,IAAMS,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,qBACJhB,UAAU,CAACG,WAAD,CADN;AAAA,MAClBM,SADkB,gBAClBA,SADkB;;AAE1B,SAAOA,SAAP;AACH,CAHM;AAIP,OAAO,IAAMQ,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,qBACJjB,UAAU,CAACG,WAAD,CADN;AAAA,MACnBW,UADmB,gBACnBA,UADmB;;AAE3B,SAAOA,UAAP;AACH,CAHM","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children, isLoggedIn: userLoggedIn }) => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(userLoggedIn);\r\n\r\n    const logUserIn = async token => {\r\n        console.log(token);\r\n        try {\r\n            await AsyncStorage.setItem(\"isLoggedIn\", \"true\");\r\n            await AsyncStorage.setItem(\"jwt\", token);\r\n            setIsLoggedIn(true)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    };\r\n\r\n    const logUserOut = async () => {\r\n        try {\r\n            await AsyncStorage.setItem(\"isLoggedIn\", \"false\")\r\n            setIsLoggedIn(false)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={{ isLoggedIn, logUserIn, logUserOut }}>\r\n            {children}\r\n        </AuthContext.Provider>)\r\n}                                   //key와 value형식으로 만들기 위해서 {}(오브젝트) 형식으로 만듦\r\n\r\nexport const useIsLoggedIn = () => {\r\n    const { isLoggedIn } = useContext(AuthContext)\r\n    //key와 value형식으로 만들기 위해서 {}(오브젝트) 형식으로 만듦\r\n    return isLoggedIn;\r\n}\r\nexport const useLogIn = () => {\r\n    const { logUserIn } = useContext(AuthContext)\r\n    return logUserIn;\r\n}\r\nexport const useLogOut = () => {\r\n    const { logUserOut } = useContext(AuthContext)\r\n    return logUserOut;\r\n}"]},"metadata":{},"sourceType":"module"}